{% extends "base.html" %}

{% block title %}Redefinir Senha{% endblock %}

{% block content %}
<div class="main-login">
    <div class="left-login">
        <h1>Redefinir Senha</h1>
    </div>
    <div class="right-login">
        <div class="card-login">
<form method="POST" action="{{ url_for('reset_password', token=token) }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="textfield password-field">
        <label for="new_password">Nova senha</label>
        <input type="password" id="new_password" name="new_password" required>
        <span class="toggle-password" onclick="togglePasswordVisibility('new_password')">
            <i class="material-icons" id="eye-new_password">visibility</i>
        </span>
    </div>
    <div class="textfield password-field">
        <label for="confirm_password">Confirme a nova senha</label>
        <input type="password" id="confirm_password" name="confirm_password" required>
        <span class="toggle-password" onclick="togglePasswordVisibility('confirm_password')">
            <i class="material-icons" id="eye-confirm_password">visibility</i>
        </span>
    </div>
    <button type="submit" class="btn-login">Redefinir senha</button>
</form>
        </div>
    </div>
</div>

<script>
    function togglePasswordVisibility(fieldId) {
        const input = document.getElementById(fieldId);
        const eyeIcon = document.getElementById('eye-' + fieldId);
        if (input.type === "password") {
            input.type = "text";
            eyeIcon.textContent = "visibility_off";
        } else {
            input.type = "password";
            eyeIcon.textContent = "visibility";
        }
    }
</script>
{% endblock %}
